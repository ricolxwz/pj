---
title: 20.æœ‰æ•ˆçš„æ‹¬å·
layout: doc
navbar: true
sidebar: false
aside: true
outline: deep
lastUpdated: true
editLink: true
footer: true
---

# 20.æœ‰æ•ˆçš„æ‹¬å·

## é¢˜ç›®é“¾æ¥

[https://leetcode.cn/problems/valid-parentheses](https://leetcode.cn/problems/valid-parentheses)

## è§£é¢˜æ€è·¯

### ä½¿ç”¨æ ˆ

- è‹¥ä»æœ‰å­—ç¬¦
    - ç¢°åˆ°å·¦æ‹¬å·, å…¥æ ˆ
    - ç¢°åˆ°å³æ‹¬å·, å¼¹å‡ºæ ˆé¡¶å…ƒç´ 
        - å¦‚æœæ ˆä¸ºç©º, è¿”å›`False` <-- å¯¹åº”å³æ‹¬å·å¤šä½™
        - å¦‚æœæ ˆéç©º
            - å¦‚æœå³æ‹¬å·ä¸åŒ¹é…, è¿”å›`False` <-- å¯¹åº”å·¦å³æ‹¬å·ä¸åŒ¹é…
- è‹¥æ²¡æœ‰å­—ç¬¦
    - æ ˆéç©º, è¿”å›`False` <-- å¯¹åº”å·¦æ‹¬å·å¤šä½™
    - æ ˆä¸ºç©º: è¿”å›`True`

::: code-group

```py [å°è¯•1]
# âŒš 65ms ğŸ“€ 16.3MB
class Solution:
    def isValid(self, s: str) -> bool:
        stacks = []
        dict = {"(": ")", "[": "]", "{": "}"}
        for i in range(len(s)):
            if s[i] in ["(", "[", "{"]:
                stacks.append(s[i])
            else:
                try:
                    top = stacks.pop()
                except IndexError:
                    return False # å³æ‹¬å·å¤šä½™
                else:
                    if s[i] != dict[top]:
                        return False # å·¦å³æ‹¬å·ä¸åŒ¹é…
        if len(stacks) != 0:
            return False # å·¦æ‹¬å·å¤šä½™
        return True
```

```py [å°è¯•2]
# âŒš 42ms ğŸ“€ 16.45MB
class Solution:
    def isValid(self, s: str) -> bool:
        if len(s) % 2 == 1:
            return False
        pairs = {
            ")": "(",
            "]": "[",
            "}": "{"
        }
        stack = list()
        for ch in s:
            if ch in pairs:
                if not stack or stack[-1] != pairs[ch]: # å³æ‹¬å·å¤šä½™ | å·¦å³æ‹¬å·ä¸åŒ¹é…
                    return False
                stack.pop()
            else:
                stack.append(ch)
        return not stack # å·¦æ‹¬å·å¤šä½™
```

:::

### ä½¿ç”¨`replace`å‡½æ•°

ç”±äºé¢˜ç›®ä¸­æŒ‡æ˜äº†æ‹¬å·æ˜¯æ— æ³•åµŒå¥—çš„, æ‰€ä»¥è¿˜å¯ä»¥ä½¿ç”¨`replace`å‡½æ•°å°†æ‹¬å·æ›¿æ¢ä¸ºç©ºå­—ç¬¦, æ£€æŸ¥æœ€åçš„å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©º, è‹¥ä¸ºç©º, åˆ™è¿”å›`True`, è‹¥éç©º, è¿”å›`False`. 

```py
# âŒš 60ms ğŸ“€ 16.39MB
class Solution:
    def isValid(self, s: str) -> bool:
        while '{}' in s or '()' in s or '[]' in s:
            s = s.replace('{}', '')
            s = s.replace('[]', '')
            s = s.replace('()', '')
        return s == ''
```

è¿™ç§æ–¹æ³•æ— æ³•é€‚ç”¨äºåµŒå¥—çš„æƒ…å†µ, æ•…ä¸æ¨è.